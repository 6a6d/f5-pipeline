{
  "info": {
    "_postman_id": "09126534-fb3d-4ba4-b871-c92cc88a969d",
    "name": "F5 TS",
    "description": "F5 Declarative Onboarding",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "1ee94340-a0ec-4c9b-bca1-ff833d4c3e6d",
      "name": "API Authentication",
      "description": null,
      "item": [
        {
          "_postman_id": "43bcd98e-dd81-4d3c-84b6-305a3020a765",
          "name": "manual",
          "description": null,
          "item": [
            {
              "_postman_id": "64f777bc-ccef-410b-900c-8fcdd27a4250",
              "name": "Get Authentication Token",
              "event": [
                {
                  "listen": "test",
                  "script": {
                    "id": "2175cb1c-5502-4f03-8c5d-e77ed49fbeee",
                    "exec": [
                      ""
                    ],
                    "type": "text/javascript"
                  }
                }
              ],
              "request": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n    \"username\":\"admin\",\n    \"password\":\"admin\",\n    \"loginProviderName\":\"tmos\"\n}"
                },
                "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/authn/login"
              },
              "response": []
            }
          ],
          "_postman_isSubFolder": true
        },
        {
          "_postman_id": "1b314fbe-8049-4797-9b9b-17b283b75453",
          "name": "Set Authentication Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "897324e4-a182-4521-b81d-e5b069c7ca62",
                "exec": [
                  "var jsonData = JSON.parse(responseBody);",
                  "pm.globals.set(\"TOKEN\", jsonData.token.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\":\"admin\",\n    \"password\":\"admin\",\n    \"loginProviderName\":\"tmos\"\n}"
            },
            "url": "https://{{big_ip_a_mgmt}}:8443/mgmt/shared/authn/login"
          },
          "response": []
        },
        {
          "_postman_id": "2e959109-b1a3-4c58-89e1-debeaf6eba5d",
          "name": "Verify Authentication Token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-F5-Auth-Token",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/tm/ltm"
          },
          "response": []
        },
        {
          "_postman_id": "d0e209a5-747c-4217-aa59-128fa2ecc034",
          "name": "Set Token Timeout",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"timeout\":\"36000\"\n}"
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/authz/tokens/{{TOKEN}}"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "c6bb1c3d-4cc0-4737-be05-c48e3daff14a",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "88e5defa-e437-453c-9454-4b5795fbd7c1",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "eb85ed7b-936b-45d1-a9bf-110795824c9a",
      "name": "Examples",
      "description": "",
      "item": [
        {
          "_postman_id": "f3b50c19-3f95-41d4-9601-618259009463",
          "name": "Test telemetry streaming",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/info"
          },
          "response": []
        },
        {
          "_postman_id": "fac5f48c-db0e-4522-99c1-386f818a02d3",
          "name": "Splunk base configuration",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " {\n     \"class\": \"Telemetry\",\n     \"My_Poller\": {\n         \"class\": \"Telemetry_System_Poller\",\n         \"interval\": 60\n     },\n     \"My_Listener\": {\n         \"class\": \"Telemetry_Listener\",\n         \"port\": 6514\n     },\n     \"My_Consumer\": {\n         \"class\": \"Telemetry_Consumer\",\n         \"type\": \"Splunk\",\n         \"host\": \"192.0.2.1\",\n         \"protocol\": \"http\",\n         \"port\": \"8088\",\n         \"passphrase\": {\n             \"cipherText\": \"apikey\"\n         }\n     }\n }"
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/declare"
          },
          "response": []
        },
        {
          "_postman_id": "efef8e64-454d-4c15-9244-a024deb17124",
          "name": "Graphite base configuration",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " {\n     \"My_Consumer\": {\n         \"class\": \"Telemetry_Consumer\",\n         \"type\": \"Graphite\",\n         \"host\": \"192.0.2.1\",\n         \"protocol\": \"http\",\n         \"port\": \"80\"\n     }\n }"
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/declare"
          },
          "response": []
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "de31ef60-a453-41bd-9e7d-e3258e862c16",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "a2ec66ef-0d67-41ca-885d-dcf6b3cd660e",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}