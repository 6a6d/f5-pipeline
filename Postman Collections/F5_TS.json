{
  "info": {
    "_postman_id": "09126534-fb3d-4ba4-b871-c92cc88a969d",
    "name": "F5 TS",
    "description": "F5 Declarative Onboarding",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "Splunk",
      "item": [
        {
          "name": "Test telemetry streaming",
          "_postman_id": "f3b50c19-3f95-41d4-9601-618259009463",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/info"
          },
          "response": []
        },
        {
          "name": "Splunk base configuration",
          "_postman_id": "fac5f48c-db0e-4522-99c1-386f818a02d3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": " {\n     \"class\": \"Telemetry\",\n     \"My_Poller\": {\n         \"class\": \"Telemetry_System_Poller\",\n         \"interval\": 60\n     },\n     \"My_Listener\": {\n         \"class\": \"Telemetry_Listener\",\n         \"port\": 6514\n     },\n     \"My_Consumer\": {\n         \"class\": \"Telemetry_Consumer\",\n         \"type\": \"Splunk\",\n         \"host\": \"192.0.2.1\",\n         \"protocol\": \"http\",\n         \"port\": \"8088\",\n         \"passphrase\": {\n             \"cipherText\": \"apikey\"\n         }\n     }\n }"
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/declare"
          },
          "response": []
        }
      ],
      "_postman_id": "eb85ed7b-936b-45d1-a9bf-110795824c9a"
    },
    {
      "name": "Graphite",
      "item": [
        {
          "name": "Test telemetry streaming",
          "_postman_id": "04a6bd27-4085-4ca7-8d8b-2ca7683c288a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/info"
          },
          "response": []
        },
        {
          "name": "Graphite base configuration",
          "_postman_id": "94a936b1-46f1-4815-90a6-3d8b3a5772e2",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/json"
              },
              {
                "key": "X-F5-Auth-Token",
                "type": "text",
                "value": "{{TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "  {\n     \"class\": \"Telemetry\",\n     \"controls\": {\n         \"class\": \"Controls\",\n         \"logLevel\": \"info\"\n     },\n     \"My_Poller\": {\n         \"class\": \"Telemetry_System_Poller\",\n         \"interval\": 60\n     },\n     \"My_Listener\": {\n         \"class\": \"Telemetry_Listener\",\n         \"port\": 6514\n     },\n     \"My_Consumer\": {\n         \"class\": \"Telemetry_Consumer\",\n         \"type\": \"Graphite\",\n         \"host\": \"192.168.1.111\",\n         \"protocol\": \"http\",\n         \"port\": \"8080\"\n     }\n }"
            },
            "url": "https://{{big_ip_a_mgmt}}/mgmt/shared/telemetry/declare"
          },
          "response": []
        }
      ],
      "_postman_id": "ccfc9621-1412-49ba-92bb-220893f34f05"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "de31ef60-a453-41bd-9e7d-e3258e862c16",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "a2ec66ef-0d67-41ca-885d-dcf6b3cd660e",
        "type": "text/javascript",
        "exec": [
          ""
        ]
      }
    }
  ]
}